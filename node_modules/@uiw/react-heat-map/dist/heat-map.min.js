/*! For license information please see heat-map.min.js.LICENSE.txt */
!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("react")):"function"===typeof define&&define.amd?define(["react"],t):"object"===typeof exports?exports["@uiw/react-heat-map"]=t(require("react")):e["@uiw/react-heat-map"]=t(e.React)}(self,(e=>(()=>{"use strict";var t={349:(e,t,r)=>{var n=r(787),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,f=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(f=t.ref),t)i.call(t,n)&&!u.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:f,props:a,_owner:l.current}}t.jsx=c,t.jsxs=c},501:(e,t,r)=>{e.exports=r(349)},787:t=>{t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}function r(e,r,n){return(r=t(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}n.r(o),n.d(o,{default:()=>k});var u=n(787),c=n.n(u);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(e){if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){c=!0,o=f}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=n(501),m={textAnchor:"middle",fontSize:"inherit",fill:"currentColor"},v=function(e){var t=e.weekLabels,r=void 0===t?[]:t,n=e.rectSize,o=void 0===n?0:n,a=e.topPad,i=void 0===a?0:a,l=e.space,c=void 0===l?0:l;return(0,u.useMemo)((function(){return(0,p.jsx)(u.Fragment,{children:d(Array(7)).map((function(e,t){return r&&r[t]?(0,p.jsx)("text",{className:"w-heatmap-week",x:15,y:i,dy:(t+1)*(o+c)-5,style:m,children:r[t]},t):null}))})}),[o,c,i,r])},b=864e5;function g(e){return e instanceof Date&&!isNaN(e.getTime())}function h(e){return"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())}var S=function(e){var t=e.monthLabels,r=void 0===t?[]:t,n=e.rectSize,o=void 0===n?0:n,a=e.space,i=void 0===a?0:a,l=e.leftPad,c=void 0===l?0:l,f=e.colNum,s=void 0===f?0:f,y=e.startDate,v=(0,u.useMemo)((function(){return!1===r||s<1?[]:d(Array(7*s)).map((function(e,t){if(t/7%1===0){var n=new Date(y.getTime()+t*b),o=n.getMonth();return{col:t/7,index:t,month:o,day:n.getDate(),monthStr:r[o],date:n}}return null})).filter(Boolean).filter((function(e,t,r){return r[t-1]&&r[t-1].month!==e.month}))}),[s,r,y]);return(0,u.useMemo)((function(){return(0,p.jsx)(u.Fragment,{children:d(v).map((function(e,t){return(0,p.jsx)("text",{"data-size":o,x:c+i+i,y:15,dx:e.col*(o+i),textAnchor:"start",style:m,children:e.monthStr},t)}))})}),[v,c,o,i])},j=["style","value","render","key"],O=function(e){var t=e.style,r=e.value,n=e.render,o=(e.key,i(i({},l(e,j)),{},{style:i({display:"block",cursor:"pointer"},t)}));if(n&&"function"===typeof n){var a=n(i({},o),r);if(a&&c().isValidElement(a))return a}return(0,p.jsx)("rect",i({},o))},x=["panelColors","leftPad","topPad","space","rectSize","legendCellSize","legendRender"];function w(e){var t=e.panelColors,r=e.leftPad,n=void 0===r?0:r,o=e.topPad,a=void 0===o?0:o,c=(e.space,e.rectSize),f=void 0===c?0:c,s=e.legendCellSize,d=void 0===s?0:s,y=e.legendRender,m=l(e,x),v=d||f;return(0,u.useMemo)((function(){return(0,p.jsx)(u.Fragment,{children:Object.keys(t||{}).map((function(e,r){var o=i(i({},m),{},{key:r,x:(v+1)*r+n,y:a+8*f+6,fill:t[Number(e)],width:v,height:v});return y?y(o):(0,p.jsx)(O,i({},o))}))})}),[t,m,v,n,a,f,y])}var P=["rectSize","legendCellSize","space","startDate","endDate","rectProps","rectRender","legendRender","value","weekLabels","monthLabels","panelColors","style"];function D(e){var t=e||{},r=t.rectSize,n=void 0===r?11:r,o=t.legendCellSize,a=void 0===o?11:o,f=t.space,s=void 0===f?2:f,m=t.startDate,j=void 0===m?new Date:m,x=t.endDate,D=t.rectProps,E=t.rectRender,k=t.legendRender,_=t.value,A=void 0===_?[]:_,C=t.weekLabels,z=void 0===C?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]:C,M=t.monthLabels,T=void 0===M?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]:M,N=t.panelColors,R=void 0===N?{0:"var(--rhm-rect, #EBEDF0)",8:"#7BC96F",4:"#C6E48B",12:"#239A3B",32:"#196127"}:N,L=t.style,F=l(t,P),I=y((0,u.useState)(0),2),B=I[0],J=I[1],U=y((0,u.useState)(z?28:5),2),W=U[0],$=U[1],q=y((0,u.useState)(T?20:5),2),Y=q[0],V=q[1],G=c().createRef(),H=(0,u.useMemo)((function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort((function(e,t){return e<t?-1:e>t?1:0}))}(Object.keys(R).map((function(e){return parseInt(e,10)})))}),[R]),K=(0,u.useMemo)((function(){return function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){t.date&&g(new Date(t.date))&&(t.date=h(new Date(t.date)),e[t.date]=t)})),e}(A)}),[A]);(0,u.useEffect)((function(){return $(z?28:5)}),[z]),(0,u.useEffect)((function(){if(G.current){var e=G.current.clientWidth-W||0;J(Math.floor(e/(n+s))||0)}}),[n,G,s,W]),(0,u.useEffect)((function(){V(T?20:5)}),[T]);var Q=(0,u.useMemo)((function(){if(g(j))return j.getDay()?new Date(j.getTime()-j.getDay()*b):j;var e=new Date;return new Date(e.getTime()-e.getDay()*b)}),[j]);return(0,p.jsxs)("svg",i(i({ref:G,style:i(i({},{color:"var(--rhm-text-color, #24292e)",userSelect:"none",display:"block",fontSize:10}),L)},F),{},{children:[0!==a&&(0,p.jsx)(w,{legendRender:k,panelColors:R,rectSize:n,legendCellSize:a,leftPad:W,topPad:Y,space:s}),(0,p.jsx)(v,{weekLabels:z,rectSize:n,space:s,topPad:Y}),(0,p.jsx)(S,{monthLabels:T,rectSize:n,space:s,leftPad:W,colNum:B,startDate:Q}),(0,p.jsx)("g",{transform:"translate(".concat(W,", ").concat(Y,")"),children:B>0&&d(Array(B)).map((function(e,t){return(0,p.jsx)("g",{"data-column":t,children:d(Array(7)).map((function(e,r){var o=new Date(Q.getTime()+b*(7*t+r)),a=h(o),l=i(i({},K[a]),{},{date:a,row:r,column:t,index:7*t+r}),u=i(i({},D),{},{key:r,fill:"var(--rhm-rect, #EBEDF0)",width:n,height:n,x:t*(n+s),y:(n+s)*r,render:E,value:l});return x instanceof Date&&o.getTime()>x.getTime()?null:(a&&K[a]&&R&&Object.keys(R).length>0?u.fill=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="",o=0;o<t.length;o+=1){if(t[o]>e){n=r[t[o]];break}n=r[t[o]]}return n}(K[a].count||0,H,R):R&&R[0]&&(u.fill=R[0]),(0,p.jsx)(O,i(i({},u),{},{value:l,"data-date":a,"data-index":l.index,"data-row":l.row,"data-column":l.column})))}))},t)}))})]}))}var E=["prefixCls","className"];function k(e){var t=e.prefixCls,r=void 0===t?"w-heatmap":t,n=e.className,o=l(e,E),a=[n,r].filter(Boolean).join(" ");return(0,p.jsx)(D,i({className:a},o))}})(),o})()));